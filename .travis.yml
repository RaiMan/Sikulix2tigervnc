language: java
jdk: oraclejdk8
env:
  global:
  - secure: R/Sd5n4Y4q2QEomc4eubVWiLogzVLKlu3s57veRyjS5vntFnbuYlmX8OslTpNmH97T3NrxPopcTAjCvqo1tt/Ogo12Gj97XuU/pFxsYoSRPGWVWMTIYWjB5zpvlra2DJ/26KLCXkj0iciFZdU1ddtwBx6upXQStL5tAOo008vxDTZEq9qQq1RgQz29LO3rspor5fxOUuZnyWOlDswOtjW/nx8rL6lk6QJCLR7CreXXO588C82OK6a7JOj9JyO6JiQTeW/73SergRM/+mrXQ6zqPrOhiNV3tDzTBedYblUPSQWEeGlIpQq/V18IFm3ji0vg9x4rX+PMgM6t8ZFRyNjU2F5TInRYJWa39QyUW0V59APIuD9Sxah2rYAKoerEjNRRVQ93TLRkjO1CU5LrOULNEfg92SgDotvQzY6VFvKBq+5hyufS60Z9pPfjKrjVAS/4o8r/wTijAJn6bQO+VYFLz+Pb/2uKXztrs7GjS5dON5RrwS0SS3u/WKoRkgxHIQu3to9HQdVBFFfBJVo0AdfCf8/tIsaFDKP2Pi4o3S6mBKCXLcf7fNQqnD6ZplpaUMDdOGd/wmvx840QvcNvr0OMxR2QlzQDALLi9++SkL5ke0lCMhLrSOGhK50eZukhofpNNL7j/qdEkNdBieHEf+oY/WsvKQVa9qB6tXrA4Wq2s=
  - secure: ijT0A7vsaMmogUgC3hiEfyWB6cWkuSA7GsSJaj4y9NpE1afPKmtWk7LjmwTBuXmvVhEd91H6Kxsf9cumO2EsPz9gNKCM053evULGA+FvF3NS7I045TFvyGl2sgpCzAR4dxt0cFHyVCGryhr9RvPmDIvlbhTKc94ccUOFd3rZc2aoWr9kqZ7Xb5TmBVKL0kXX2PEBZSNddUu+3GuqvL4xpNYDeaiGS1XAgC+kqDfJaAAsp5kXCPtMI/WbM0++ATPDLQK67Z5/LaHCLMRT01/4bbn2Bd7UtGvDbWAouxViBkHxhidWq09szlFqiLnFbX7IIOWvdWi4E/ovLEm5inMNK0Etnb+gk6h80vbyHfipBgJUNyiwQl+fFXqEde/vCTsjNWHL7hiGfoMxHfdWQbdFeKm+2UrygDXazOBsajis62OCp/J/d90KgzokVOrM1lg20boDk7or91IMh6e91Wxs3VvRjjW89hpL6ENwGGhKXIxu0TLImgT0FYjEMINuUuCsW6w+Bwn7NccKtASaalFZSV98EaFtVoF9u4LF1OcsluXk4ZVIn8+1YUc8HDfMgHXVCOH3n+W2DpRShzYtj2vHHmISoqR1ETb/TDou0S+6KbsPbCFLUUYObyeSkRROQaFKo5aLJ0BiOH2wSK1fNya/kxFzX58UuwkcsXWSZm3DzZQ=
  - secure: b/SkDQxOVwEzSIlKDEnL/5fVw8y5vExF+X+7r2dcFNubBMbDWGKXBHtxeOQJvFhr7MvKA7jExJIAx5x3IaZSMcd9sF8GGyBHsox7M4JiBOHgah5CSd+9vr6CDvflRbWyzPG7cIdwNTteZ4auG5rRe9TD5b5HdxRQYGycWxb+yn7RCBdJKA97rVjKmMQjDkADj4eS3CJS97uPrhNs3Gxzywg2Si6Pks/zUPiO9g1JAlg7siIiXyrFajeEIAP92zAOvr9DjZCfOzwcSR50m7TQb0wzSkeDg4nTsiAOTLyVWCGuUHAS+fwq/1imYx9aEjqOMNh0posOYbVxXM1wLFU+64OHOZjYEejbH+xWBKW/Lmv2fQqACS7XVL75V4JGdJpYQQ0lkGkRyMDmzli3lK5oJHK2VRwZRhbV4bnCYzxiAQwV5umPcOajYrUcMokAihlZ0a1gq0XadLHo/7sSQ/KJKJoaYp80g/M2IJf9Lmw2Sy2e0camRrSU7hDlCEz75YtTRU/mxAdNSssBHZ2xocRnhnufUfaeW8JTGcQh3+3o37ObjOo6BiBXup+Y84LwSYtG84OJq/PE/dI7y8iLPd85wFviYXFhnWI0mRQ1nKBflJMfGQU0Omv0L8dhY/q0cZP3J5p/oF9NzupohRHKsAD0rwdeRG1r1WN84f51zKjpQbc=
  - secure: h5iEI6cQ70wuXGO0PbbZFKcLSz4D+drZN0P7qhaecJJFkng/jEbF28K0dPwpQzHDeJTgykpTKM6tjiFtRzSd974Se9tH44XZCSWL4bbxhcKxZNfdPqrBYkoiQKfRNHwIgSwOrPA5K2kZYmOJxCxkf5cu7bckci6eEFdi1rsuABMUTxaWQbk0fMi5gs9M0HhX5H0h3RGqvQIwUkY6MD6F8e/5NZTP/dLg5e7SRtcOoeRCqNaU8YHIq/qv0DlBhuItGeHUtVPrIQD3h4dDvEnTiSW5uBDhIev7tzUEezEpajhPkFcniYOGSDq9iPYkZIS/8A3gEvSyQgJApemD4FvK30tBUs3RwPiW6krzzeb+IW2jkkdfRFA+DLnE27qHZJa+w8RHorY9WbL9cCKyWHcX2alzj5ooIIY0KGLQl51t3i8Zdxrh+/xfvXeRkokqBfnJRR8by0A7GWQvqLW+7TCqibfrk10CP4gxZ+SmWgqJ0tEj8b0lm276SFAEELgRH6YBCBaMRgfShrqlgjyu15/v8EQye43KAtFtVspAxA8DmrwXdP0NKH4AbI4R+DgD1b8Li0Wt/5BQTdDBvbBRqukSR3s8PrB1n0I8R2twOVJ0gBAeGc3pIzcxIVhJjeWzAegHRTAqhvzWvSds6xcRLgsdrIZ05hzvqrzmZ7/hjMx0KEw=
before_install:
- openssl aes-256-cbc -K $encrypted_ea1244aca28a_key -iv $encrypted_ea1244aca28a_iv
  -in codesigning/codesigning.asc.enc -out codesigning/codesigning.asc
  -d
- gpg --fast-import codesigning/codesigning.asc

install: mvn install -P !build-extras -B -V

script:
 - mvn test -P !build-extras -B
 - if [ $TRAVIS_TEST_RESULT -eq 0 ]; then
      mvn deploy -P sign,build-extras --settings codesigning/mvnsettings.xml;
   fi
