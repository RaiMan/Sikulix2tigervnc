language: java
jdk: oraclejdk8
install:
- mvn install -DskipTests=true -B
before_script:
- openssl aes-256-cbc -K $encrypted_ea1244aca28a_key -iv $encrypted_ea1244aca28a_iv
  -in codesigning/codesigning.asc.enc -out codesigning/codesigning.asc -d
- gpg --fast-import codesigning/codesigning.asc
script:
- mvn test -B
- if [ $TRAVIS_TEST_RESULT -eq 0 ]; then
    mvn deploy -B -P sign,build-extras --settings codesigning/mvnsettings.xml;
  fi
env:
  global:
  - secure: pu58bzdFMIt/gRdGf2Mu/ZvKkdIwsxsCNACv6PVDiXChEnFSvmAN2ffyQpVRis7LuWXX6CtOdyKAWQVGqiVVW6I8DxJYbPfSOSag7U9OA99aygkbODUU6sl2WGaIFTFE9yTx9GFkNd8v6mDtGkpMwrO5CPTbkVAvzhCS65jTYjcX4ZdmU3WMPfNMgwfzU3+z9LaZQv8SSYXXGRJOedVmuxLvnGAe9KN6LcFXxYSwUqH2z+HEEDjlzDlVh9qN5D7K2Ah6H3QXO5nM2PTJl6WDtFSkCU5DO0nwNrXJTG0VMUQJ29LswfX7ZckSnHzZ44xo0/hAr5fmotvhlhSArAUkYLPgr0Qg9bDbJ6CxFuSARXXIPAk4C8I+FmMAiCZVZ9rpAqxeWTXMREnGp8CuxHiL3Xe7gxV67XIImLA8GVcZB+mOR3MlNR59uHKbjpCLnkZFGOl7wQ1vqSTNExXP74osHouwY8SUO7hnfzzo203Z/AlM+uimXepo05vlbc/ugNSxNXeJRx9gKe9fAjlaq7jwcscvGAfuF4aC11Sj7yEfm5dSEFJyLxnDTdKullFKcNCySomGOm8RasHKMx/M4wDvAh/Epv9sdRWLNubHc7Y2YZonSkNTfSUc4ZxV5rS89nTerPfizZLzJW6qke4gvJbBwaYdMFPFTCN2EE6Bm9nGkTE=
  - secure: savk23uIDLggZd3u5D8KjwX5H4xuPOOWhzz92nHqwVmHWhXFxQgTX8V2oEkCpPt6ns4BGSggzTv1YKNL3dBdK0PWGGhp+d2W8WnH9VsUf0qILsTKLdXXjh7esYiBrrMHQYs73k7HlXcBCQYWTEqsnTekByrPwHhF4EowV8OGSjzEzSJS6ISwo6+45TmLEvNnXMDJp4U3O0bEkNEJWRjetm/Cx+0VtKndX0TKNb7pyBI2zoOpAPI8drNZUDS8gCWMdkNo4xXaXymXukgD/O86kqLTANyZ+06TetTkXdKPsV1VrYYNMRh0vkcOgYNGRS3FzNDoxk1dFwyX+ZtYjnSslcsgj55Im6ty1J/YUAbEDR97342Dnyc4NpH9maGnO3/FOJGhbT1PL5QIZuqHT6pu01caae2qytNdz/IJrLerxtZHcTakPT2CEIQAdMXCny/1CURGNEWFj5kf8BQRXKUOZg1GtaeZs6VOJYRcS7WSXjyEXb8XgByM3C6GuM5QuYNj7odA6V+gxO4tr/JTQQ0GM736mh7BNJiHmE3AZxcFD8C9eEOOrI5iI+XhI9mwpjhXNcr1z0ECDx5JWr6QqFOj2RW6guN85h+Qnea1aC6yQRLaLY8vQJ1YpG9T734oxEikSRhITutiBzJFcCbsIydbcmidAgv9XQQ+UZe9pkZ12SE=
  - secure: Ga0WvIN3U1l3xg6BmtDiYytmRdf8ygsBUAvsKusndnCE151P0UBVDpXYAjr1Fqs8J3m17t9m9f277Y3rAnBOcYkptI5cxIYH8B+mUIwj5IjIlmeb2cy5pUf2dVVeTkeF2hQUodp0gz5vmRHJliBW2gDHrw1tWbjLuwjMb4ze2zjQnVQqiBOt8znn2A8Wa25ZvvFfFxzN9kAKffGbP1S7DOl6EH4h5SmfMv6psD3v/o2wWxxPPSs0qhb5CzorTX2ic8PvOIL46gtDsKO3qQapYjQRPMUGmqPv+1JeoMuW8CCaOw5h8Z+S6eqb/W+NDvaHGdUkV/mqRuFA/Dy9LFwQ5jJOrgd+UbG7lOLvbDNqCB0trDFkRAiopyGbYUeapXp+vG9R5NzGtZwjnoEYDiKDgrGLYR6RyetcuGNdNviaXtu48M0ohMT7hTTxMJJ77XDoNxVD/YTwy1odQPDuwzx/H0NJO+uh8GExnHxGhg4iNL5cOsDWW0FsYMi7KHxbG9JUQelmTeu3C0L0esTpZTr0N3rSCKhAUtEXAasO8YYl/OlX/q69AX5oks2wO8KEOJJoaJnVftS0DcNF6xZEOxjmi6vbrz0Bqq4oBPYGAa5en4pW+tinKsjTXo15KkfhVnyYegdRlCKK/wX5H6JU9JRRkoOxzFofVusoKEglgZjODc0=
  - secure: T90MhwqsaSwI4oBJ9rQvhmDEAGyVvCLoNW+UM8WevVdXqMQOHDqeyxTPJ0XJthmlJgwJ/S/8ZaRs0XdL2PcBNsg8dArcpG96o9SYEjPte0okCzqAdBh886OVCXPzaImF9SiPp6sApSMmImrL4RflYhRVVwXBwbph/qpF3oTr3RgdF3VMX2Z9N5whgkBVaTkLlQa/ZvkgT0umvF36JzF+rlGObM+9QlTG9XLTj2WZYkeHEPtaB2tsv4ZNmrLuApvHlAY38gtveMTkBgVdoHRu2+S0WAwOnvY8a9DMj7G+nb9eOFYXtzATz41VlKy0kt6WeJ+QfnJwgVVNcb9tKkkzngh+MtHedVWUpX+4c9t+yfpWy01ISefCx1kZUsr7MQ3uaVN1WOJrQi3BgMm89TqYo7juP75WT3bM77nKzo6ydgnCZfHaNcno5CwZleABJo4PO0ME7rB8DtehS865xSDqxrMgEju87t2eHQN3RStYAMmJ9kVynXVBnz4Lz/nK4gU6Txoqg7JXqJUWZRhF6DoTR+8w8u2lvu5qV4uY2+1OXyjXhYhkH5JyxcXqsP+lprNRPRVxbmrNiyoeJjdgE4dOMoFEvUM3+r+hYPihnBeEPuwicvf0gJCA2CNRQEZxUZ6u4E+mVg35bwcFlC/CwPtXB7ypiVaNvGMBSyL+KS9c3f0=
